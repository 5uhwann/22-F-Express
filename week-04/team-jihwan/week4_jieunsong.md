# Week4

## Model View Controller(MVC)

- 앱 애플리케이션과 백엔드 애플리케이션을 **특정 패턴을 따라 논리적으로 구조화하여** 구축하는 법

### Model


- 객체나 데이터를 나타낸다.
- 데이터를 저장하고, 불러오고, 최신으로 유지하는 등의 관리를 수행한다.
- 메모리, 파일, 데이터베이스 등 어디서 데이터를 관리하더라도 항상 모델이 데이터를 담당한다.
- 데이터에 관련된 모든 논리가 포함되어있다.


### View


- 사용자에게 표시되는 부분
- html 자료에 올바른 내용을 렌더링해 사용자에게 보내는 역할을 한다.
- 어플리케이션 코드와 분리되어 있다.
- 너무 많은 논리를 넣을 수 없다.(논리는 컨트롤러와 모델에!)


### Controller


- **작업할 Model과 렌더링할 View를 잇는다.(중개인)**
- View에 있는 폼을 통해 Node Express 어플리케이션으로 데이터가 입력되면 이를 모델로 전달해서 저장하기도, 모델을 통해 데이터를 불러와 뷰로 전달한 후 사용자에게 회신하기도 한다.(양방향으로 데이터 전달)
- 라우트는 경로를 알려주는 http 메서드에 따라 어떤 컨트롤러 코드를 실행할지 정의한다.



## 컨트롤러 추가하기


- 컨트롤러를 분리하기 전에는 router 함수에 뒤섞여있다.
- 우리는 이미 router함수에서 데이터와 교류하고 뷰를 반환하는 컨트롤러 논리, 즉 컨트롤러를 구성하는 중간 논리를 사용하고 있다.
- 컨트롤러를 분리할때 라우트 파일 이름과 번호를 컨트롤러 파일 하나와 일대일로 맵핑할 수 있고, 혹은 접두사에 따라 라우트를 그룹화할 수 있다.
- 분리하며 require에 라이트를 입력하며 제품 컨트롤러를 불러와야한다.


## 제품 모델 추가하기


- 모델에서 제품 배열을 관리한다고 하면, 제품은 객체로서 즉석에서 생성된다.
- 이 제품은 데이터를 나타내며 어플리케이션에 표현된다.
- 이에 대한 모델을 추가할 것이다.


- 모델 폴터를 만들고 product.js 파일을 추가한다.
    - 이때 products가 아닌 것에 주의해야하는데, 우리가 최종적으로 만들것은 하나의 제품, 단일 엔티티인 코어 데이터를 만들것이기 때문이다.
    - 코어 데이터는 제품의 모습, 제품이 보유한 영역, 이미지나 제목의 보유여부 등을 포함하고 있다.


```java script

//in product.js file
const products = [];

module.export = class Product {
    //제품의 형태를 정의하기 위한 구축자 함수
    constructor(t) {// 제품에 대한 제목을 수신함
        this.title = t; 
        //title의 약자 t. 혼란을 방지하기 위해 약자 사용.

    }// 제품 배열에 제품을 생성 또는 저장하고 가져올 수 있게 한다.
    save() {
        products.push(this);
        // 클래스를 기반으로 생성된 객체를 참조할 것인데 이 배열에 저장하고자 하는 바로 그 객체를 가져올것이기 때문에 this를 표기.
    }// 클래스에 저장 방법 추가
    fetchAll() {
        return this.products;
    }
}


```

